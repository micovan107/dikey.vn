<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng Bài - dikey.vn</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
    <style>
        @media (max-width: 768px) {
            .left-sidebar,
            .right-sidebar {
                display: none;
            }
            .main-container {
                display: block;
                padding: 0 !important;
            }
            .main-content {
                padding: 0 15px;
            }
            #posts-container {
                padding: 0;
            }
            header h1 {
                font-size: 1.25rem;
            }
            nav#nav-links a,
            nav#nav-links button {
                padding: 0.5rem;
                font-size: 0.9rem;
            }
            .nav-avatar {
                width: 28px;
                height: 28px;
            }
                        .nav-user-name {
    display: none !important;
  }
  .nav-user-profile .dropdown-content {
    right: 0;
    left: auto;
  }
        }
    </style>
<body>
    <script src="js/header.js"></script>
    <script src="js/auth.js"></script>

    <main>
        <div class="form-container">
            <h2>Đăng Bài Tập Mới</h2>
            <form id="post-form">
                <div class="form-group-row">
                    <div class="form-group">
                        <label for="category-select">Loại môn</label>
                        <select id="category-select" required>
                            <option value="">-- Chọn loại môn --</option>
                            <option value="toan">Toán học</option>
                            <option value="ly">Vật lý</option>
                            <option value="hoa">Hóa học</option>
                            <option value="van">Văn học</option>
                            <option value="anh">Tiếng anh</option>
                            <option value="sinh">Sinh học</option>
                            <option value="su">Lịch sử</option>
                            <option value="dia">Địa lý</option>
                            <option value="tin">Tin học</option>
                            <option value="khac">Khác</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="grade-select">Trình độ lớp</label>
                        <select id="grade-select" required>
                            <option value="">-- Chọn trình độ --</option>
                            <option value="tieu-hoc">Tiểu học (Lớp 1-5)</option>
                            <option value="thcs">THCS (Lớp 6-9)</option>
                            <option value="thpt">THPT (Lớp 10-12)</option>
                            <option value="dai-hoc">Đại học</option>
                            <option value="khac">Khác</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="description">Nội dung</label>
                    <textarea id="description" rows="5" required></textarea>
                </div>
                <div class="form-group">
                    <label for="image">Hình ảnh (nếu có)</label>
                    <input type="file" id="image-input" accept="image/*">
                    <div id="image-preview-container" style="margin-top: 10px;"></div>
                </div>
                <button type="submit">Đăng Bài</button>
            </form>
        </div>
    </main>

    <!-- Image Editor Modal -->
    <div id="image-editor-modal" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center;">
        <div style="background: white; padding: 20px; border-radius: 5px; max-width: 90vw; max-height: 90vh;">
            <h2>Chỉnh sửa ảnh</h2>
            <div>
                <img id="image-to-edit" style="max-width: 100%; max-height: 60vh;">
            </div>
            <div style="margin-top: 10px;">
                <button id="rotate-left-btn"><i class="fas fa-undo"></i> Xoay trái</button>
                <button id="rotate-right-btn"><i class="fas fa-redo"></i> Xoay phải</button>
                <button id="save-image-btn" style="background: #4CAF50; color: white;">Lưu ảnh</button>
                <button id="cancel-edit-btn" style="background: #f44336; color: white;">Hủy</button>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 dikey.vn</p>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>

    <!-- Scripts -->
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-database-compat.js"></script>

    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/subjects.js"></script>
    <script src="js/post.js"></script>
    <script src="js/chat_dikey.js"></script>
    <div id="chat-container"></div>
</body>
</html>